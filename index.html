<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Solar Calculator</title>

<style>
body { font-family: Arial; background:#f4f6f8; padding:15px; }
h2 { text-align:center; }
button { padding:10px; border:none; border-radius:6px; cursor:pointer; flex:1; }
.tabs,.subtabs { display:flex; gap:10px; margin-bottom:15px; }
.active { background:#007bff; color:#fff; }
.inactive { background:#ddd; }
.box { background:#fff; padding:15px; border-radius:8px; }
input,select { width:100%; padding:10px; margin:8px 0; }
.hidden { display:none; }
.output { font-size:15px; margin-top:10px; }
</style>
</head>

<body>

<h2>Solar Material & Fastener Calculator</h2>

<!-- MAIN TABS -->
<div class="tabs">
    <button onclick="showMain('material')" class="active" id="matBtn">Material</button>
    <button onclick="showMain('fastener')" class="inactive" id="fasBtn">Fasteners</button>
</div>

<!-- ================= MATERIAL ================= -->
<div id="materialBox" class="box">

<div class="tabs">
    <button onclick="showTable('full')" class="active" id="fullBtn">Full Table</button>
    <button onclick="showTable('half')" class="inactive" id="halfBtn">Half Table</button>
</div>

<div class="subtabs">
    <button onclick="showMatMode('t2m')" class="active">Table → Material</button>
    <button onclick="showMatMode('m2t')" class="inactive">Material → Table</button>
</div>

<!-- TABLE TO MATERIAL -->
<div id="t2m">
<input type="number" id="tableCount" placeholder="Enter No. of Tables">
<button class="active" onclick="calcMaterial()">Calculate</button>
<div id="materialResult" class="output"></div>
</div>

<!-- MATERIAL TO TABLE -->
<div id="m2t" class="hidden">
<select id="materialType">
<option value="post">Column Post</option>
<option value="rafter">Rafter</option>
<option value="front">Front Bracing</option>
<option value="rear">Rear Bracing</option>
<option value="channel">Connecting Channel</option>
<option value="cross">Cross Bracing</option>
</select>
<input type="number" id="materialQty" placeholder="Enter Material Quantity">
<button class="active" onclick="materialToTable()">Calculate</button>
<div id="tableResult" class="output"></div>
</div>

</div>

<!-- ================= FASTENERS (EXISTING) ================= -->
<div id="fastenerBox" class="box hidden">
<b>Fasteners section already implemented ✔</b>
</div>

<script>
let tableType = "full";

const materialData = {
full:{ post:12, rafter:12, front:12, rear:12, channel:12, cross:2 },
half:{ post:7, rafter:7, front:7, rear:7, channel:7, cross:2 }
};

function showMain(type){
materialBox.classList.toggle("hidden", type!=="material");
fastenerBox.classList.toggle("hidden", type!=="fastener");
matBtn.classList.toggle("active", type==="material");
fasBtn.classList.toggle("active", type==="fastener");
}

function showTable(type){
tableType = type;
fullBtn.classList.toggle("active", type==="full");
halfBtn.classList.toggle("active", type==="half");
}

function showMatMode(mode){
t2m.classList.toggle("hidden", mode!=="t2m");
m2t.classList.toggle("hidden", mode!=="m2t");
}

function calcMaterial(){
const n = Number(tableCount.value);
if(!n) return;
const d = materialData[tableType];
materialResult.innerHTML = `
Column Post : ${d.post*n}<br>
Rafter : ${d.rafter*n}<br>
Front Bracing : ${d.front*n}<br>
Rear Bracing : ${d.rear*n}<br>
Connecting Channel : ${d.channel*n}<br>
Cross Bracing : ${d.cross*n}
`;
}

function materialToTable(){
const qty = Number(materialQty.value);
const mat = materialType.value;
if(!qty) return;
const tables = qty / materialData[tableType][mat];
tableResult.innerHTML = `<b>Tables:</b> ${tables}`;
}
</script>

</body>
</html>
</html>

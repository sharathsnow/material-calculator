<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Solar Material & Fastener Calculator</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f4f6f8;
    padding: 15px;
}

h2 {
    text-align: center;
}

button {
    padding: 10px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    flex: 1;
}

.tabs, .subtabs {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

.active {
    background: #007bff;
    color: #fff;
}

.inactive {
    background: #ddd;
}

.box {
    background: #fff;
    padding: 15px;
    border-radius: 8px;
}

input, select {
    width: 100%;
    padding: 10px;
    margin: 8px 0;
}

.output {
    margin-top: 10px;
    font-size: 15px;
}

.hidden {
    display: none;
}

.row {
    display: flex;
    gap: 10px;
}

.col {
    flex: 1;
}

@media (max-width:600px) {
    .row {
        flex-direction: column;
    }
}
</style>
</head>

<body>

<h2>Solar Fastener Calculator</h2>

<div class="tabs">
    <button onclick="showTable('full')" class="active" id="fullBtn">Full Table</button>
    <button onclick="showTable('half')" class="inactive" id="halfBtn">Half Table</button>
</div>

<!-- FULL TABLE -->
<div id="fullBox" class="box">
    <div class="subtabs">
        <button onclick="showSub('full','t2f')" class="active">Table → Fasteners</button>
        <button onclick="showSub('full','f2t')" class="inactive">Fasteners → Table</button>
    </div>

    <div id="full_t2f">
        <input type="number" id="fullTables" placeholder="Enter number of tables">
        <button class="active" onclick="calcFasteners('full')">Calculate</button>
        <div id="fullResult" class="output"></div>
    </div>

    <div id="full_f2t" class="hidden">
        <input type="number" id="fullFastQty" placeholder="Enter Bolt & Nut quantity">
        <select id="fullFastType">
            <option value="M8">M8</option>
            <option value="M10">M10</option>
            <option value="M12">M12</option>
        </select>
        <button class="active" onclick="calcTables('full')">Calculate</button>
        <div id="fullTableResult" class="output"></div>
    </div>
</div>

<!-- HALF TABLE -->
<div id="halfBox" class="box hidden">
    <div class="subtabs">
        <button onclick="showSub('half','t2f')" class="active">Table → Fasteners</button>
        <button onclick="showSub('half','f2t')" class="inactive">Fasteners → Table</button>
    </div>

    <div id="half_t2f">
        <input type="number" id="halfTables" placeholder="Enter number of tables">
        <button class="active" onclick="calcFasteners('half')">Calculate</button>
        <div id="halfResult" class="output"></div>
    </div>

    <div id="half_f2t" class="hidden">
        <input type="number" id="halfFastQty" placeholder="Enter Bolt & Nut quantity">
        <select id="halfFastType">
            <option value="M8">M8</option>
            <option value="M10">M10</option>
            <option value="M12">M12</option>
        </select>
        <button class="active" onclick="calcTables('half')">Calculate</button>
        <div id="halfTableResult" class="output"></div>
    </div>
</div>

<script>
const data = {
    full: {
        M8: { bolt:232, pw:232, sw:232, rw:232 },
        M10:{ bolt:324, pw:552, sw:324, rw:176 },
        M12:{ bolt:24, pw:48, sw:24 }
    },
    half: {
        M8: { bolt:116, pw:116, sw:116, rw:116 },
        M10:{ bolt:176, pw:264, sw:176, rw:88 },
        M12:{ bolt:14, pw:28, sw:14 }
    }
};

function showTable(type){
    fullBox.classList.toggle("hidden", type!=="full");
    halfBox.classList.toggle("hidden", type!=="half");
    fullBtn.classList.toggle("active", type==="full");
    halfBtn.classList.toggle("active", type==="half");
}

function showSub(type, mode){
    document.getElementById(type+"_t2f").classList.toggle("hidden", mode!=="t2f");
    document.getElementById(type+"_f2t").classList.toggle("hidden", mode!=="f2t");
}

function calcFasteners(type){
    const tables = Number(document.getElementById(type+"Tables").value);
    if(!tables) return;

    const d = data[type];
    let out = "";
    for(let k in d){
        out += `<b>${k}</b><br>
        Bolt & Nut: ${d[k].bolt * tables}<br>
        P.W: ${d[k].pw * tables}<br>
        S.W: ${d[k].sw * tables}<br>
        ${d[k].rw ? "R.W: "+(d[k].rw * tables)+"<br>" : ""}
        <hr>`;
    }
    document.getElementById(type+"Result").innerHTML = out;
}

function calcTables(type){
    const qty = Number(document.getElementById(type+"FastQty").value);
    const m = document.getElementById(type+"FastType").value;
    if(!qty) return;

    const tables = qty / data[type][m].bolt;
    document.getElementById(type+"TableResult").innerHTML =
        `<b>Tables:</b> ${tables}`;
}
</script>

</body>
</html>
